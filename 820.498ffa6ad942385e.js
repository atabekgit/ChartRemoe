"use strict";(self.webpackChunktaskChart=self.webpackChunktaskChart||[]).push([[820],{3820:(T,p,i)=>{i.r(p),i.d(p,{WeatherModule:()=>y});var d=i(9808),u=i(7656),c=i(4393),h=i(22),t=i(4893),n=i(2382),g=i(5601),m=i(5034);function v(e,s){1&e&&(t.TgZ(0,"div",15)(1,"h3"),t._uU(2," Loading... "),t.qZA()())}const f=function(){return{backdropBorderRadius:"3px"}},C=[{path:"",component:(()=>{class e{constructor(a,o){this.formBuilder=a,this.server=o,this.loading=!1,this.wer=[],this.pieChartOptions={responsive:!0,plugins:{legend:{display:!0,position:"top"}}},this.pieChartData={labels:[],datasets:[{data:[]}]},this.pieChartType="pie",c.kL.register(...c.zX)}ngOnInit(){this.weatherSearchForm=this.formBuilder.group({location:[null]})}sendToAPIXU(a){this.loading=!0,this.server.weatherData(a.location).subscribe(o=>{var r,l;console.log(o),this.weatherData=o,this.loading=!1,this.temp=this.weatherData.main.temp-273.15,this.weatherSearchForm.reset(),this.wind=this.weatherData.wind.speed,this.deg=this.weatherData.wind.deg,console.log(this.wind),console.log(this.deg),this.wer.push(this.wind,this.deg),null===(r=this.pieChartData.labels)||void 0===r||r.push(["Deg"],["Speed"]),this.pieChartData.datasets[0].data.push(this.deg),this.pieChartData.datasets[0].data.push(this.wind),null===(l=this.chart)||void 0===l||l.update()})}removeSlice(){var a;this.pieChartData.labels&&this.pieChartData.labels.pop(),this.pieChartData.datasets[0].data.pop(),null===(a=this.chart)||void 0===a||a.update()}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(n.qu),t.Y36(g.r))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-weather"]],viewQuery:function(a,o){if(1&a&&t.Gf(h.jh,5),2&a){let r;t.iGM(r=t.CRH())&&(o.chart=r.first)}},decls:25,vars:12,consts:[[1,"container"],[1,"row"],[1,"col-md-6"],[1,"text-center","my-4"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","id","weatherLocation","aria-describedby","weatherLocation","placeholder","Please input a Location","formControlName","location",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-success","btn-md"],[2,"width","400px","height","400px"],[1,"chart"],["baseChart","",3,"data","type","options"],[1,"btn","btn-primary","btn-md",3,"click"],["customLoadingTemplate",""],[3,"show","config","template"],[1,"custom-class"]],template:function(a,o){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4,"Search for Weather:"),t.qZA(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){return o.sendToAPIXU(o.weatherSearchForm.value)}),t.TgZ(6,"div",5),t._UZ(7,"input",6),t.qZA(),t.TgZ(8,"div",7)(9,"button",8),t._uU(10," Search for the weather "),t.qZA()()()(),t.TgZ(11,"div",2)(12,"h3",3),t._uU(13,"Weather Details:"),t.qZA(),t.TgZ(14,"p",7),t._uU(15),t.ALo(16,"number"),t.qZA(),t.TgZ(17,"div",9)(18,"div",10),t._UZ(19,"canvas",11),t.qZA(),t.TgZ(20,"button",12),t.NdJ("click",function(){return o.removeSlice()}),t._uU(21,"Remove Slice"),t.qZA(),t.YNc(22,v,3,0,"ng-template",null,13,t.W1O),t._UZ(24,"ngx-loading",14),t.qZA()()()()),2&a){const r=t.MAs(23);t.xp6(5),t.Q6J("formGroup",o.weatherSearchForm),t.xp6(10),t.hij(" Temperature Celsius: ",t.xi3(16,8,o.temp,"1.2")," "),t.xp6(4),t.Q6J("data",o.pieChartData)("type",o.pieChartType)("options",o.pieChartOptions),t.xp6(5),t.Q6J("show",o.loading)("config",t.DdM(11,f))("template",r)}},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,h.jh,m.RJ],pipes:[d.JJ],styles:[""]}),e})()}];let w=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.Bz.forChild(C)],u.Bz]}),e})();var Z=i(5404);let y=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.ez,w,n.UX,m.q,Z.m9,h.vQ]]}),e})()}}]);